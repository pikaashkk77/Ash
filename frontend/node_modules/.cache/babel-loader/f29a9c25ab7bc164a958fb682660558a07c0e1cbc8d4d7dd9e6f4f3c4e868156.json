{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./booktickets.css';import SideMenu from'./SideMenu';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BookTickets(){const[formData,setFormData]=useState({name:'',email:'',phone:'',flight:'',location:'',date:''});const[totalFare,setTotalFare]=useState(0);const[transactionSuccess,setTransactionSuccess]=useState(false);const[fareToDisplay,setFareToDisplay]=useState(0);const[seatError,setSeatError]=useState(false);const fareMapping={Emirates:500,\"Air India\":400,SpiceJet:300,\"Kuwait Airways\":450,\"Ethihad Airways\":550,\"Qatar Airways\":600};const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});if(name==='flight'){const selectedFare=fareMapping[value.trim()]||0;setTotalFare(selectedFare);}};const handleSubmit=async e=>{e.preventDefault();const passengerData={...formData,tstatus:'departure'};try{const response=await axios.post('http://ec2-13-201-226-31.ap-south-1.compute.amazonaws.com/api/Passenger/Insertpass',passengerData);if(response.data===\"Booking Successfull\"){setFareToDisplay(totalFare);setTransactionSuccess(true);}else{setSeatError(true);alert(\"Seats are full\");return;}}catch(error){console.error(\"There was an error inserting the passenger!\",error);}};if(transactionSuccess){return/*#__PURE__*/_jsx(\"div\",{className:\"transaction-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tickmark\",children:\"\\u2714\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Transaction Successful\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your booking has been completed successfully!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Fare: $\",fareToDisplay]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"book-tickets-container\",children:[seatError&&/*#__PURE__*/_jsx(\"div\",{className:\"error-popup\",children:\"Seats are full for the selected flight!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book Your Flight\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Flight:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"flights\",name:\"flight\",value:formData.flight,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Flight\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Emirates\",children:\"Emirates\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Air India\",children:\"Air India\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SpiceJet\",children:\"Spice Jet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kuwait Airways\",children:\"Kuwait Airways\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ethihad Airways\",children:\"Ethihad Airways\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Qatar Airways\",children:\"Qatar Airways\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",placeholder:\"Location\",value:formData.location,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Departure Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:formData.date,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"passenger-form\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",placeholder:\"Phone\",value:formData.phone,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Total Fare: $\",totalFare]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Book Now\"})]}),/*#__PURE__*/_jsx(SideMenu,{})]});}export default BookTickets;","map":{"version":3,"names":["React","useState","axios","SideMenu","jsx","_jsx","jsxs","_jsxs","BookTickets","formData","setFormData","name","email","phone","flight","location","date","totalFare","setTotalFare","transactionSuccess","setTransactionSuccess","fareToDisplay","setFareToDisplay","seatError","setSeatError","fareMapping","Emirates","SpiceJet","handleChange","e","value","target","selectedFare","trim","handleSubmit","preventDefault","passengerData","tstatus","response","post","data","alert","error","console","className","children","onSubmit","onChange","required","type","placeholder"],"sources":["C:/Users/DELL/airportapp/src/booktickets.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './booktickets.css';\r\nimport SideMenu from './SideMenu';\r\n\r\nfunction BookTickets() {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    flight: '',\r\n    location: '',\r\n    date: '',\r\n  });\r\n  const [totalFare, setTotalFare] = useState(0);\r\n  const [transactionSuccess, setTransactionSuccess] = useState(false);\r\n  const [fareToDisplay, setFareToDisplay] = useState(0);\r\n  const [seatError, setSeatError] = useState(false);\r\n\r\n  const fareMapping = {\r\n    Emirates: 500,\r\n    \"Air India\": 400,\r\n    SpiceJet: 300,\r\n    \"Kuwait Airways\": 450,\r\n    \"Ethihad Airways\": 550,\r\n    \"Qatar Airways\": 600,\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n\r\n    \r\n    if (name === 'flight') {\r\n      const selectedFare = fareMapping[value.trim()] || 0;\r\n      setTotalFare(selectedFare);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const passengerData = {\r\n      ...formData,\r\n      tstatus: 'departure', \r\n    };\r\n\r\n    try {\r\n      \r\n      const response = await axios.post('http://ec2-13-201-226-31.ap-south-1.compute.amazonaws.com/api/Passenger/Insertpass', passengerData);\r\n      \r\n      if (response.data === \"Booking Successfull\") {\r\n        \r\n        setFareToDisplay(totalFare);\r\n        setTransactionSuccess(true);\r\n      } else {\r\n        \r\n        setSeatError(true);\r\n        alert(\"Seats are full\"); \r\n        return; \r\n      }\r\n    } catch (error) {\r\n      console.error(\"There was an error inserting the passenger!\", error);\r\n    }\r\n  };\r\n\r\n  \r\n  if (transactionSuccess) {\r\n    return (\r\n      <div className=\"transaction-container\">\r\n        <div className=\"transaction-success\">\r\n          <div className=\"tickmark\">&#10004;</div>\r\n          <h2>Transaction Successful</h2>\r\n          <p>Your booking has been completed successfully!</p>\r\n          <p>Total Fare: ${fareToDisplay}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"book-tickets-container\">\r\n      {seatError && <div className=\"error-popup\">Seats are full for the selected flight!</div>}\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>Book Your Flight</h2>\r\n        <div className=\"form-group\">\r\n          <label>Flight:</label>\r\n          <select\r\n            className=\"flights\"\r\n            name=\"flight\"\r\n            value={formData.flight}\r\n            onChange={handleChange}\r\n            required\r\n          >\r\n            <option value=\"\">Select Flight</option>\r\n            <option value=\"Emirates\">Emirates</option>\r\n            <option value=\"Air India\">Air India</option>\r\n            <option value=\"SpiceJet\">Spice Jet</option>\r\n            <option value=\"Kuwait Airways\">Kuwait Airways</option>\r\n            <option value=\"Ethihad Airways\">Ethihad Airways</option>\r\n            <option value=\"Qatar Airways\">Qatar Airways</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Location:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            placeholder=\"Location\"\r\n            value={formData.location}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Departure Date:</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"date\"\r\n            value={formData.date}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"passenger-form\">\r\n          \r\n          <label>Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <label>Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n          <label>Phone Number:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            placeholder=\"Phone\"\r\n            value={formData.phone}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Total Fare: ${totalFare}</label>\r\n        </div>\r\n        <button type=\"submit\">Book Now</button>\r\n      </form>\r\n      <SideMenu />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookTickets;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}